<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Diwali ‚Äî For Wify (Nancy) ‚ù§Ô∏è</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg1: #0b1021;
    --bg2: #2b1055;
    --accent: #ff6fa3;
    --gold: #ffd166;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family:"Poppins",sans-serif;
    background: radial-gradient(circle at 10% 20%, #1b1532 0%, #0b1021 40%, #081225 100%);
    color:#fff;
    overflow:hidden;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  .card { max-width:980px; margin:24px auto; position:relative; border-radius:18px; overflow:hidden; box-shadow: 0 20px 60px rgba(5,5,10,0.6); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); backdrop-filter: blur(6px); }
  .stage{ min-height:72vh; padding:28px; display:flex; align-items:center; justify-content:center; position:relative; }

  header{ text-align:center; padding:18px; background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); }
  header h1{ margin:0; font-family:'Great Vibes', cursive; font-size:36px; color:var(--accent); text-shadow: 0 6px 24px rgba(255,111,163,0.12); }
  header p{margin:6px 0 0 0; font-size:13px; color:#ffdfe8;}

  .nav-buttons{ position: absolute; right: 18px; top: 18px; display:flex; gap:8px; }
  .btn{ background:linear-gradient(180deg,rgba(255,255,255,0.03),rgba(255,255,255,0.01)); color:white; border:1px solid rgba(255,255,255,0.06); padding:10px 14px; border-radius:12px; cursor:pointer; font-weight:600; box-shadow: 0 6px 18px rgba(0,0,0,0.4); transition:transform .18s ease, box-shadow .18s; }
  .btn:active{ transform: translateY(2px) }
  .btn.primary{ background: linear-gradient(90deg,var(--accent), #ffb1e0); color: #120017; border: none; }

  .scene{ position:absolute; inset:0; padding:28px; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:18px; transition: transform .7s cubic-bezier(.16,.9,.36,1), opacity .5s ease; will-change:transform, opacity; }
  .hidden{ opacity:0; pointer-events:none; transform: translateY(40px) scale(.98); }

  .photo-wrap{ display:flex; gap:18px; align-items:center; flex-direction:column; }
  .round-photo{ width:230px; height:230px; border-radius:50%; overflow:hidden; border:6px solid rgba(255,255,255,0.14); box-shadow: 0 30px 60px rgba(0,0,0,0.6), 0 0 30px rgba(255,111,163,0.14); background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,0,100,0.02)); display:grid; place-items:center; transform-origin:center; animation:heartPulse 3.6s infinite; }
  .round-photo img{ width:100%; height:100%; object-fit:cover; display:block; }
  @keyframes heartPulse{0%{ transform: scale(1) }50%{ transform: scale(1.03) rotate(-0.5deg) }100%{ transform: scale(1) }}

  .greeting{ max-width:680px; text-align:center; font-size:16px; line-height:1.7; color:#fff; text-shadow: 0 6px 14px rgba(0,0,0,0.6); }
  .greeting .heart{ color:var(--gold); font-weight:700; text-shadow:none; }

  .scene2 { display:flex; flex-direction:column; align-items:center; gap:20px; padding-top:12px; }
  .cartoon-stage{ position:relative; width:760px; max-width:95%; height:360px; border-radius:14px; overflow:hidden; background: linear-gradient(180deg,#091a2c 0%, #082033 60%, rgba(2,3,10,0.4) 100%); box-shadow: 0 18px 40px rgba(3,8,18,0.6); border:1px solid rgba(255,255,255,0.03); }
  .ground{ position:absolute; bottom:0; left:0; right:0; height:90px; background: linear-gradient(180deg,#0e2a2e,#081d1f); box-shadow: inset 0 6px 24px rgba(0,0,0,0.6); }

  .couple{ position:absolute; left:50%; bottom:32px; transform:translateX(-50%); display:flex; gap:24px; align-items:flex-end; z-index:30; filter: drop-shadow(0 10px 24px rgba(0,0,0,0.6)); }
  .person{ width:130px; height:220px; position:relative; }
  .person .head{ width:46px;height:46px;border-radius:50%; background:#0b0b11; position:absolute; left:12px; top:8px; box-shadow: 0 0 22px rgba(255,111,163,0.06), inset -6px -6px 12px rgba(255,255,255,0.02); }
  .person .body{ position:absolute; left:0; right:0; top:50px; height:160px; background: linear-gradient(180deg,#120418,#0b0b11); border-radius: 24px 24px 18px 18px; transform-origin:bottom center; animation: sway 3s infinite ease-in-out; }
  .girl .body{ border-radius: 40px 24px 10px 10px; background: linear-gradient(180deg,#2b0050,#120018); width:120px; margin-left:10px; }
  .boy .body{ width:110px; margin-right:8px; background: linear-gradient(180deg,#0b3a5a,#042030); }
  @keyframes sway{0%{ transform: rotate(0deg) }50%{ transform: rotate(1.2deg) }100%{ transform: rotate(0deg) }}

  .spark{ position:absolute; width:6px; height:6px; border-radius:50%; background:var(--gold); opacity:0; transform-origin:center; filter: blur(.6px); }

  .shayari{ width:92%; max-width:780px; min-height:80px; padding:14px 18px; border-radius:12px; background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04); font-size:18px; color:#ffeef6; text-align:center; line-height:1.6; font-weight:500; box-shadow: 0 10px 30px rgba(3,6,14,0.5); }
  .shayari .line{ opacity:0; transform: translateY(8px); display:block; }

  .video-area{ width:90%; max-width:720px; height:260px; border-radius:12px; overflow:hidden; background:#000; margin-top:8px; border: 6px solid rgba(255,255,255,0.02); box-shadow: 0 12px 34px rgba(0,0,0,0.6); display:none; }
  .video-area video{ width:100%; height:100%; display:block; object-fit:cover; }

  .final-msg{ display:flex; flex-direction:column; align-items:center; gap:12px; padding:18px; }
  .final-msg h2{ font-family:'Great Vibes', cursive; font-size:56px; color:var(--accent); margin:0; text-shadow: 0 10px 30px rgba(255,111,163,0.12); transform:scale(.95); animation:pop 900ms ease forwards; }
  @keyframes pop{ to{ transform:scale(1); } }
  .from{ margin-top:6px; font-size:18px; color:#ffdfe8; }

  footer.small{ text-align:center; padding:10px 12px; color:#ffdfe8; font-size:13px; }

  @media (max-width:720px){ .cartoon-stage{ height:320px; } .round-photo{ width:170px; height:170px;} .greeting{ font-size:15px;} .shayari{ font-size:16px; } }
</style>
</head>
<body>

<div class="card" role="main" aria-live="polite">
  <header>
    <h1>Happy Diwali, My Wify ‚ú®</h1>
    <p>For Nancy ‚Äî made with all my love ‚ù§Ô∏è</p>

    <div class="nav-buttons" aria-hidden="false">
      <button class="btn" id="btnPrev">Prev</button>
      <button class="btn primary" id="btnNext">Next</button>
    </div>
  </header>

  <section class="stage">

    <!-- Scene 1: Greeting -->
    <div id="scene1" class="scene">
      <div class="photo-wrap">
        <div class="round-photo" title="Our Photo">
          <img id="profilePhoto" src="WhatsApp Image 2025-10-16 at 9.35.44 AM.jpeg" alt="Photo of us">
        </div>

        <div class="greeting">
          <p style="font-size:18px; margin:0 0 6px 0"><span style="font-family:'Great Vibes',cursive; font-size:30px; color:var(--accent)">Wify</span>, ‡§§‡•Å‡§Æ ‡§Æ‡•á‡§∞‡•Ä ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§π‡•ã üåü</p>
          <p>‡§á‡§∏ ‡§¶‡•Ä‡§µ‡§æ‡§≤‡•Ä ‡§™‡§∞ ‡§π‡§∞ ‡§¶‡•Ä‡§Ø‡§æ ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•á ‡§≤‡§ø‡§è ‡§ú‡§≤‡§§‡§æ ‡§π‡•à ‚Äî ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§Æ‡•Å‡§∏‡•ç‡§ï‡§æ‡§® ‡§Æ‡•á‡§∞‡•Ä ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§ï‡•ã ‡§ú‡§ó‡§Æ‡§ó‡§æ ‡§¶‡•á‡§§‡•Ä ‡§π‡•à‡•§</p>
        </div>

        <div style="display:flex; gap:10px; margin-top:6px;">
          <button class="btn primary" id="toScene2">Open Our Story</button>
        </div>
      </div>
    </div>

    <!-- Scene 2: Cartoon + Shayari + Video -->
    <div id="scene2" class="scene hidden">
      <div class="scene2">
        <div class="cartoon-stage" id="cartoon">
          <div class="ground"></div>
          <div class="couple" aria-hidden="true">
            <div class="person girl">
              <div class="head"></div>
              <div class="body"></div>
            </div>
            <div class="person boy">
              <div class="head"></div>
              <div class="body"></div>
            </div>
          </div>
        </div>

        <div class="shayari" id="shayariBox" aria-live="polite">
          <span class="line">‡§ö‡§Æ‡§ï‡•Ä‡§≤‡•Ä ‡§∞‡§æ‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§§‡•á‡§∞‡•Ä ‡§π‡§Å‡§∏‡•Ä ‡§ï‡•Ä ‡§∞‡•å‡§∂‡§®‡•Ä ‡§π‡•à,</span>
          <span class="line">‡§¶‡•Ä‡§™‡•ã‡§Ç ‡§ï‡•Ä ‡§≤‡•å ‡§∏‡•á ‡§≠‡•Ä ‡§§‡•á‡§∞‡•Ä ‡§Ü‡§Å‡§ñ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§®‡§Æ‡•Ä ‡§π‡•à,</span>
          <span class="line">‡§π‡§æ‡§•‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§§‡•á‡§∞‡•á ‡§π‡§æ‡§• ‡§π‡•ã‡§®‡•á ‡§∏‡•á ‡§π‡§∞ ‡§Ö‡§Å‡§ß‡•á‡§∞‡§æ ‡§ï‡§ü ‡§ú‡§æ‡§§‡§æ ‡§π‡•à,</span>
          <span class="line">‡§§‡•á‡§∞‡•á ‡§∏‡§æ‡§• ‡§π‡§∞ ‡§∞‡§Ç‡§ó ‡§Ø‡§π‡§æ‡§Å ‡§î‡§∞ ‡§≠‡•Ä ‡§ñ‡•Ç‡§¨‡§∏‡•Ç‡§∞‡§§ ‡§¨‡§® ‡§ú‡§æ‡§§‡§æ ‡§π‡•à,</span>
          <span class="line">‡§Æ‡•á‡§∞‡•Ä ‡§π‡§∞ ‡§¶‡•Å‡§Ü ‡§Æ‡•á‡§Ç ‡§§‡•Ç ‡§π‡•Ä ‡§∞‡§π‡•á ‡§¨‡§∏ ‚Äî ‡§Ü‡§ú, ‡§ï‡§≤ ‡§î‡§∞ ‡§∏‡§¶‡§æ,</span>
          <span class="line"><strong>‡§Æ‡•à‡§Ç ‡§§‡•Å‡§Æ‡§∏‡•á ‡§¨‡§π‡•Å‡§§ ‡§™‡•ç‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Å, ‡§Æ‡•á‡§∞‡•Ä ‡§™‡•ç‡§Ø‡§æ‡§∞‡•Ä Wify Nancy‡•§</strong></span>
        </div>

        <div style="display:flex;gap:12px;align-items:center;">
          <button class="btn primary" id="showVideo">Play Romantic Clip</button>
          <button class="btn" id="sparkleBtn">Burst Fireworks</button>
        </div>

        <div class="video-area" id="videoArea" aria-hidden="true">
          <video id="romVideo" loop muted>
            <source src="https://sample-videos.com/video123/mp4/240/big_buck_bunny_240p_1mb.mp4" type="video/mp4">
            Your browser does not support video.
          </video>
        </div>

      </div>
    </div>

    <!-- Scene 3: Final Message -->
    <div id="scene3" class="scene hidden">
      <div class="final-msg">
        <h2>I love you Wify ‚ù§Ô∏è</h2>
        <p class="from">‚Äî by your husband, <strong>Dheeraj</strong></p>
        <p style="max-width:760px; text-align:center; color:#ffdfe8;">
          ‡§§‡•Å‡§Æ‡•ç‡§π‡§æ‡§∞‡•Ä ‡§π‡§∞ ‡§ñ‡•Å‡§∂‡•Ä ‡§Æ‡•á‡§∞‡•Ä ‡§¶‡•Å‡§Ü ‡§π‡•à‡•§ ‡§á‡§∏ ‡§¶‡•Ä‡§µ‡§æ‡§≤‡•Ä ‡§™‡§∞, ‡§§‡•á‡§∞‡•á ‡§∏‡§Ç‡§ó ‡§¨‡§ø‡§§‡§æ‡§Ø‡§æ ‡§π‡§∞ ‡§≤‡§Æ‡•ç‡§π‡§æ ‡§Æ‡•á‡§∞‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡§Æ‡•ã‡§≤ ‡§π‡•à‡•§  
          ‡§ö‡§≤‡•ã ‡§π‡§∞ ‡§∏‡§æ‡§≤ ‡§á‡§∏‡•Ä ‡§§‡§∞‡§π ‡§∏‡§æ‡§• ‡§ú‡§∂‡•ç‡§® ‡§Æ‡§®‡§æ‡§è‡§Å‡•§ ‚ú®
        </p>
      </div>
    </div>

  </section>

  <footer class="small">
    Tip: To change the photo, replace <code>yourphoto.jpg</code> with your image (same folder). To use your own music/video, replace the <code>src</code> in the <code>&lt;audio&gt;</code> / <code>&lt;video&gt;</code>.
  </footer>
</div>

<!-- Background music (auto-play on first interaction) -->
<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/download/audio/2023/03/28/audio_8f2bbd0c51.mp3?filename=romantic-instrumental-14461.mp3" type="audio/mpeg">
</audio>

<script>
  // Scene navigation
  const s1 = document.getElementById('scene1');
  const s2 = document.getElementById('scene2');
  const s3 = document.getElementById('scene3');
  const btnNext = document.getElementById('btnNext');
  const btnPrev = document.getElementById('btnPrev');
  const toScene2 = document.getElementById('toScene2');
  const bgMusic = document.getElementById('bgMusic');

  let current = 1;
  function showScene(n){
    [s1,s2,s3].forEach((el,i)=> {
      if(i+1 === n){ el.classList.remove('hidden'); el.style.zIndex = 10; }
      else { el.classList.add('hidden'); el.style.zIndex = 1; }
    });
    current = n;
  }

  btnNext.addEventListener('click', ()=> {
    if(current === 1) showScene(2);
    else if(current === 2) showScene(3);
    else showScene(1);
  });
  btnPrev.addEventListener('click', ()=> {
    if(current === 1) showScene(3);
    else if(current === 2) showScene(1);
    else showScene(2);
  });
  toScene2.addEventListener('click', ()=> showScene(2));

  // Auto-play music on first interaction
  let musicStarted = false;
  function startMusic() {
    if(!musicStarted){
      bgMusic.play().catch(err=>console.log("Autoplay blocked, will play after click"));
      musicStarted = true;
    }
  }
  document.addEventListener('click', startMusic, {once:true});

  // Shayari reveal animation
  const lines = document.querySelectorAll('#shayariBox .line');
  function revealShayari(){
    lines.forEach((ln, idx) => {
      setTimeout(()=> {
        ln.style.opacity = '1';
        ln.style.transform = 'translateY(0)';
        ln.style.transition = 'all .7s cubic-bezier(.2,.9,.3,1)';
      }, 900 + idx * 1100);
    });
  }

  // Cartoon fireworks
  const cartoon = document.getElementById('cartoon');
  function burst(x, y, color){
    for(let i=0;i<22;i++){
      const sp = document.createElement('div');
      sp.className = 'spark';
      sp.style.left = (x + (Math.random()*120 - 60)) + 'px';
      sp.style.top = (y + (Math.random()*120 - 60)) + 'px';
      sp.style.background = color || `hsl(${Math.floor(Math.random()*360)},80%,60%)`;
      cartoon.appendChild(sp);
      const dx = (Math.random() - 0.5) * 320;
      const dy = (Math.random() - 0.5) * 320 - 60;
      sp.animate([{ transform: 'translate(0,0) scale(1)', opacity: 1 },{ transform: `translate(${dx}px, ${dy}px) scale(0.4)`, opacity: 0 }], { duration: 900 + Math.random()*900, easing: 'cubic-bezier(.2,.8,.2,1)' });
      setTimeout(()=> sp.remove(), 2200);
    }
  }

  let autoFire = setInterval(()=> {
    const x = 120 + Math.random() * (cartoon.clientWidth - 240);
    const y = 60 + Math.random() * (cartoon.clientHeight / 2);
    burst(x, y);
  }, 2400);

  document.getElementById('sparkleBtn').addEventListener('click', ()=> {
    for(let i=0;i<4;i++){
      setTimeout(()=> {
        const x = 80 + Math.random() * (cartoon.clientWidth - 160);
        const y = 40 + Math.random() * (cartoon.clientHeight / 2);
        burst(x, y, ['#ffd166','#ff6fa3','#ffd3b6','#9be7ff'][Math.floor(Math.random()*4)]);
      }, i * 220);
    }
  });

  const showVideoBtn = document.getElementById('showVideo');
  const videoArea = document.getElementById('videoArea');
  const romVideo = document.getElementById('romVideo');

  showVideoBtn.addEventListener('click', ()=> {
    if(videoArea.style.display === 'block'){
      if(romVideo.paused) romVideo.play();
      else romVideo.pause();
    } else {
      videoArea.style.display = 'block';
      romVideo.muted = false;
      romVideo.play();
    }
  });

  const obsOptions = { root: null, threshold: 0.5 };
  const observer = new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{
      if(entry.isIntersecting && entry.target.id === 'scene2'){ revealShayari(); }
      if(entry.isIntersecting && entry.target.id === 'scene3'){
        for(let i=0;i<6;i++){
          setTimeout(()=> {
            const x = 80 + Math.random() * (cartoon.clientWidth - 160);
            const y = 40 + Math.random() * (cartoon.clientHeight / 2);
            burst(x, y, ['#ffd166','#ff6fa3','#9be7ff'][Math.floor(Math.random()*3)]);
          }, i * 180);
        }
      }
    });
  }, obsOptions);
  observer.observe(s2);
  observer.observe(s3);

  document.addEventListener('keydown', (e)=>{ if(e.key === 'ArrowRight') btnNext.click(); if(e.key === 'ArrowLeft') btnPrev.click(); });

  showScene(1);

  const photo = document.getElementById('profilePhoto');
  photo.onerror = () => {
    photo.src = 'data:image/svg+xml;charset=utf8,' + encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' width='500' height='500'><rect width='100%' height='100%' fill='#2b1055'/><text x='50%' y='50%' alignment-baseline='middle' text-anchor='middle' fill='#ffdfe8' font-size='34' font-family='Poppins, sans-serif'>Add your photo (yourphoto.jpg)</text></svg>`);
  };

  function createFloatingHearts(){
    for(let i=0;i<10;i++){
      const h = document.createElement('div');
      h.style.position='absolute';
      h.style.width='18px'; h.style.height='18px';
      h.style.left = (10 + Math.random()*80) + '%';
      h.style.bottom = (-20 - Math.random()*40) + 'px';
      h.style.transform = 'rotate(45deg)';
      h.style.background = ['#ff6fa3','#ffbfdc','#ffd4e8'][Math.floor(Math.random()*3)];
      h.style.borderRadius = '3px';
      h.style.opacity = '0.9';
      document.body.appendChild(h);
      h.animate([{ transform: 'translateY(0) rotate(45deg)', opacity:0.9 },{ transform: `translateY(-${120 + Math.random()*420}px) rotate(45deg)`, opacity:0 }], { duration: 7000 + Math.random()*4500, iterations: Infinity, delay: Math.random()*2000 });
    }
  }
  createFloatingHearts();
  window.addEventListener('beforeunload', ()=> clearInterval(autoFire));
</script>
</body>
</html>
